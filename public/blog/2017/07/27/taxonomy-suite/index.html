<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>rOpenSci | The rOpenSci Taxonomy Suite</title>

     
    <script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/r.min.js"></script>

    <script type="text/javascript">
    hljs.configure({languages: []});
    hljs.initHighlightingOnLoad();
    </script>
    <link rel="stylesheet" type="text/css" href="/css/style-new.css" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#4b8add">
<meta name="theme-color" content="#4b8add">


    <meta name="viewport" content="width=device-width, initial-scale=1">

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-462421-6', 'auto');
ga('send', 'pageview');
</script>

</head>
<body>

    
    <div id="header">
        <div class="container">
            <div class="row center-m">
                
                <div class="col-1">
                    <a href="/index.html"><img src="/img/icon_lettering_white.svg" /></a>
                </div>
                
                
                <nav class="col-6 col-offset-4 top-3">
                    <ul class="row between">
						<li><a href="/about/">About</a></li>
                        <li><a href="/blog/">Blog</a></li>
                        <li><a href="/packages/">Packages</a></li>
                        <li><a href="/community/">Community</a></li>
                        <li><a href="http://discuss.ropensci.org/" target="_blank">Discuss</a></li>

                    </ul>
                </nav>
                
            </div>
        </div>
    </div>


<article>
    <div class="container">
        <div class="row">
            <div class="col-2 sidebar top-5">
                <ul class="autoSidebar"></ul>
            </div> 
        </div>
        <div class="row">
            <div class="col-offset-2 col-8 top-20">
                <h2 style="text-align: center;">The rOpenSci Taxonomy Suite</h2>
            </div>
        </div>
        <div class="row">
            <div class="col-offset-2 col-8 top-10 bottom-5" style="font-size: 20px; text-align: center;">
                <p class="authors" style="text-align: center;">
                    
                        
                          <a href="/about/#team"> Scott Chamberlain </a>&nbsp;
                        
                    
                </p>
                <br>
                <div style="font-size: 20px; color: #2C3E50; margin-top: 15px;">July 27, 2017</div>
            </div>
            <div class="col-offset-2 col-8 top-2">

                

                

<h2 id="what-is-taxonomy">What is Taxonomy?</h2>

<p>Taxonomy in its most general sense is <a href="https://en.wikipedia.org/wiki/Taxonomy_(general)">the practice and science of classification</a>. It can refer to many things. You may have heard or used the word <em>taxonomy</em> used to indicate any sort of classification of things, whether it be companies or widgets. Here, we&rsquo;re talking about <a href="https://en.wikipedia.org/wiki/Taxonomy_(biology)">biological taxonomy</a>, the science of defining and naming groups of biological organisms.</p>

<p>In case you aren&rsquo;t familiar with the terminology, here&rsquo;s a brief intro.</p>

<ul>
<li><code>species</code> - the term you are likely most familiar with, usually defined as a group of individuals in which any 2 individuals can produce fertile offspring, although definitions can vary.</li>
<li><code>genus</code>/<code>family</code>/<code>order</code>/<code>class</code>/<code>phylum</code>/<code>kingdom</code> -  These are nested groupings of similar species. <code>genus</code> (e.g. <em>Homo</em>) is  restrictive grouping and <code>kingdom</code> (e.g. <em>Animalia</em>) is a much more inclusive grouping. There are genera in families, families in orders, etc.</li>
<li><code>taxon</code> - a species or grouping of species. e.g. <em>Homo sapiens</em>, <em>Primates</em>, and <em>Animalia</em> are all taxa.</li>
<li><code>taxa</code> - the plural of <code>taxon</code>.</li>
<li><code>taxonomic hierarchy</code> or <code>taxonomic classification</code> - the list of groups a species (or other taxon) belongs to. For example the taxonomic classification of humans is: <code>Animalia;Chordata;Mammalia;Primates;Hominidae;Homo;sapiens</code></li>
</ul>

<h2 id="ubiquity-and-importance-of-taxonomic-names">Ubiquity and Importance of Taxonomic Names</h2>

<p>We put a lot of time into our suite of taxonomic software for a good reason - probably all naturalists/biologists/environmental consultants/etc. will be confronted with taxonomic names in their research/work/surveys/etc. at some point or all along the way. Some people study a single species their entire career, likely having little trouble with taxonomic names - while others study entire communities or ecosystems, dealing with thousands of taxonomic names.</p>

<p>Taxonomic names are not only ubiquitous but are incredibly important to get right. Just as the URL points to the correct page you want to view on the internet (an incorrect URL will not get you where you want to go), taxonomic names point to the right definition/description of a taxon, leading to lots of resources increasingly online including text, images, sounds, etc. If you get the taxonomic name wrong, all information downstream is likely to be wrong.</p>

<h2 id="why-r-for-taxonomic-names">Why R for taxonomic names?</h2>

<p>R is gaining in popularity in general (<a href="https://www.tiobe.com/tiobe-index//">TIOBE index</a>, <a href="http://r4stats.com/articles/popularity/">Muenchen 2017</a>), and in <a href="http://www.nature.com/news/programming-tools-adventures-with-r-1.16609">academia</a>. At least in my graduate school experience (&lsquo;06 - &lsquo;12), most graduate students used R - despite their bosses often using other things.</p>

<p>Given that R is widely used among biologists that have to deal with taxonomic names, it makes a lot of sense to build taxonomic tools in R.</p>

<h2 id="ropensci-taxonomy-suite">rOpenSci Taxonomy Suite</h2>

<p>We have an ever-growing suite of packages that enable users to:</p>

<ul>
<li>Search for taxonomic names</li>
<li>Correct taxonomic names</li>
<li>Embed their taxonomic names in R classes that enable powerful downstream manipulations</li>
<li>Leverage dozens of taxonomic data sources</li>
</ul>

<p>The packages:</p>

<ul>
<li><code>taxize</code> - taxonomic data from many sources</li>
<li><code>taxizedb</code> - work with taxonomic SQL databases locally</li>
<li><code>taxa</code> - taxonomic classes and manipulation functions</li>
<li><code>binomen</code> - taxonomic name classes and parsing methods (getting folded into <code>taxa</code>, will be archived on CRAN soon)</li>
<li><code>wikitaxa</code> - taxonomic data from Wikipedia/Wikidata/Wikispecies</li>
<li><code>ritis</code> - get ITIS (Integrated Taxonomic Information Service) taxonomic data</li>
<li><code>worrms</code> - get WORMS (World Register of Marine Species) taxonomic data</li>
<li><code>pegax</code> - taxonomy PEG (Parsing Expression Grammar)</li>
</ul>

<p><br><br></p>

<p>For each package below, there are 2-3 badges. One for whether the package is on CRAN
<br>
<span class="label" style="background-color:#F1C312; color:white">cran</span>
<br>
a link to source on GitHub
<br>
<span class="label" style="background-color:#3598DB; color:white">github</span>
<br>
and another for when the package is community contributed:</p>

<p><span class="label" style="background-color:#19B698; color:white">community</span></p>

<p>For each package we show a very brief example - all packages have much more functionality - check them out on CRAN or GitHub.</p>

<h2 id="taxize">taxize</h2>

<div class="labels">
<a href="https://cran.rstudio.com/web/packages/taxize/"><span class="label" style="background-color:#F1C312">cran</span></a> <a href="https://github.com/ropensci/taxize"><span class="label" style="background-color:#3598DB">github</span></a>
</div>

<p>This was our first package for taxonomy. It is a one stop shop for lots of different taxonomic data sources online, including NCBI, ITIS, GBIF, EOL, IUCN, and more - up to 22 data sources now.</p>

<p>The canonical reference for <code>taxize</code> is the paper we published in 2013:</p>

<blockquote>
<p>Chamberlain, S. A., &amp; Szöcs, E. (2013). taxize: taxonomic search and retrieval in R. F1000Research.</p>
</blockquote>

<p>Check it out at <a href="https://doi.org/10.12688/f1000research.2-191.v1">https://doi.org/10.12688/f1000research.2-191.v1</a></p>

<p>We released a new version (<code>v0.8.8</code>) about a month ago (a tiny bug fix was pushed more recently (<code>v0.8.9</code>)) with some new features requested by users:</p>

<ul>
<li>You can now get downstream taxa from NCBI, see <code>ncbi_downstream</code> and <code>downstream</code></li>
<li>Wikipedia/Wikidata/Wikispecies are now data sources! via the <code>wikitaxa</code> package</li>
<li>Now you can get IUCN IDs for taxa, see <code>get_iucn</code></li>
<li><code>tax_rank</code> now works with many more data sources: ncbi, itis, eol, col, tropicos, gbif, nbn,
worms, natserv, and bold</li>
<li>Many improvements and bug fixes</li>
</ul>

<h3 id="example">Example</h3>

<p>A quick example of the power of <code>taxize</code></p>

<pre><code class="language-r">install.packages(&quot;taxize&quot;)
</code></pre>

<pre><code class="language-r">library(&quot;taxize&quot;)
</code></pre>

<p>Get WORMS identifiers for three taxa:</p>

<pre><code class="language-r">ids &lt;- get_wormsid(c(&quot;Platanista gangetica&quot;, &quot;Lichenopora neapolitana&quot;, 'Gadus morhua'))
</code></pre>

<p>Get classifications for each taxon</p>

<pre><code class="language-r">clazz &lt;- classification(ids, db = 'worms')
</code></pre>

<p>Combine all three into a single data.frame</p>

<pre><code class="language-r">head(rbind(clazz))
#&gt;            name       rank     id  query
#&gt; 1      Animalia    Kingdom      2 254967
#&gt; 2      Chordata     Phylum   1821 254967
#&gt; 3    Vertebrata  Subphylum 146419 254967
#&gt; 4 Gnathostomata Superclass   1828 254967
#&gt; 5     Tetrapoda Superclass   1831 254967
#&gt; 6      Mammalia      Class   1837 254967
</code></pre>

<h2 id="taxizedb">taxizedb</h2>

<div class="labels">
<a href="https://cran.rstudio.com/web/packages/taxizedb/"><span class="label" style="background-color:#F1C312">cran</span></a> <a href="https://github.com/ropensci/taxizedb"><span class="label" style="background-color:#3598DB">github</span></a>
</div>

<p><code>taxizedb</code> is a relatively new package. We just released a new version (<code>v0.1.4</code>) about one month ago, with fixes for the new <code>dplyr</code> version.</p>

<p>The sole purpose of <code>taxizedb</code> is to solve the use case where a user has a lot of taxonomic names, and thus using <code>taxize</code> is too slow. Although <code>taxize</code> is a powerful tool, every request is a transaction over the internet, and the speed of that transaction can vary from very fast to very slow, depending on three factors: data provider speed (including many things), your internet speed, and how much data you requested. <code>taxizedb</code> gets around this problem by using a local SQL database of the same stuff the data providers have, so you can get things done much faster.</p>

<p>The trade-off with <code>taxizedb</code> is that the interface is quite different from <code>taxize</code>.  So there is a learning curve. There are two options in <code>taxizedb</code>: you can use SQL syntax, or <code>dplyr</code> commands. I&rsquo;m guessing people are more familiar with the latter.</p>

<h3 id="example-1">Example</h3>

<p>Install <code>taxizedb</code></p>

<pre><code class="language-r">install.packages(&quot;taxizedb&quot;)
</code></pre>

<pre><code class="language-r">library(&quot;taxizedb&quot;)
</code></pre>

<p>Here, we show working with the ITIS SQL database. Other sources work with the same workflow of function calls.</p>

<p>Download ITIS SQL database</p>

<pre><code class="language-r">x &lt;- db_download_itis()
#&gt; downloading...
#&gt; unzipping...
#&gt; cleaning up...
#&gt; [1] &quot;/Users/sacmac/Library/Caches/R/taxizedb/ITIS.sql&quot;
</code></pre>

<p><code>db_load_tpl()</code> loads the SQL database into Postgres. Data sources vary in the SQL database used, see help for more.</p>

<pre><code class="language-r">db_load_tpl(x, &quot;&lt;your Postgresql user name&gt;&quot;, &quot;your Postgresql password, if any&quot;)
</code></pre>

<p>Create a <code>src</code> object to connect to the SQL database.</p>

<pre><code class="language-r">src &lt;- src_itis(&quot;&lt;your Postgresql user name&gt;&quot;, &quot;your Postgresql password, if any&quot;)
</code></pre>

<p>Query!</p>

<pre><code class="language-r">library(dbplyr)
library(dplyr)
tbl(src, sql(&quot;select * from taxonomic_units limit 10&quot;))
# Source:   SQL [?? x 26]
# Database: postgres 9.6.0 [sacmac@localhost:5432/ITIS]
     tsn unit_ind1                          unit_name1 unit_ind2 unit_name2 unit_ind3 unit_name3 unit_ind4 unit_name4
   &lt;int&gt;     &lt;chr&gt;                               &lt;chr&gt;     &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;      &lt;chr&gt;
 1    50      &lt;NA&gt; Bacteria                                 &lt;NA&gt;       &lt;NA&gt;      &lt;NA&gt;       &lt;NA&gt;      &lt;NA&gt;       &lt;NA&gt;
 2    51      &lt;NA&gt; Schizomycetes                            &lt;NA&gt;       &lt;NA&gt;      &lt;NA&gt;       &lt;NA&gt;      &lt;NA&gt;       &lt;NA&gt;
 3    52      &lt;NA&gt; Archangiaceae                            &lt;NA&gt;       &lt;NA&gt;      &lt;NA&gt;       &lt;NA&gt;      &lt;NA&gt;       &lt;NA&gt;
 4    53      &lt;NA&gt; Pseudomonadales                          &lt;NA&gt;       &lt;NA&gt;      &lt;NA&gt;       &lt;NA&gt;      &lt;NA&gt;       &lt;NA&gt;
 5    54      &lt;NA&gt; Rhodobacteriineae                        &lt;NA&gt;       &lt;NA&gt;      &lt;NA&gt;       &lt;NA&gt;      &lt;NA&gt;       &lt;NA&gt;
 6    55      &lt;NA&gt; Pseudomonadineae                         &lt;NA&gt;       &lt;NA&gt;      &lt;NA&gt;       &lt;NA&gt;      &lt;NA&gt;       &lt;NA&gt;
 7    56      &lt;NA&gt; Nitrobacteraceae                         &lt;NA&gt;       &lt;NA&gt;      &lt;NA&gt;       &lt;NA&gt;      &lt;NA&gt;       &lt;NA&gt;
 8    57      &lt;NA&gt; Nitrobacter                              &lt;NA&gt;       &lt;NA&gt;      &lt;NA&gt;       &lt;NA&gt;      &lt;NA&gt;       &lt;NA&gt;
 9    58      &lt;NA&gt; Nitrobacter                              &lt;NA&gt;     agilis      &lt;NA&gt;       &lt;NA&gt;      &lt;NA&gt;       &lt;NA&gt;
10    59      &lt;NA&gt; Nitrobacter                              &lt;NA&gt;     flavus      &lt;NA&gt;       &lt;NA&gt;      &lt;NA&gt;       &lt;NA&gt;
# ... with more rows, and 17 more variables: unnamed_taxon_ind &lt;chr&gt;, name_usage &lt;chr&gt;, unaccept_reason &lt;chr&gt;,
#   credibility_rtng &lt;chr&gt;, completeness_rtng &lt;chr&gt;, currency_rating &lt;chr&gt;, phylo_sort_seq &lt;int&gt;, initial_time_stamp &lt;dttm&gt;,
#   parent_tsn &lt;int&gt;, taxon_author_id &lt;int&gt;, hybrid_author_id &lt;int&gt;, kingdom_id &lt;int&gt;, rank_id &lt;int&gt;, update_date &lt;date&gt;,
#   uncertain_prnt_ind &lt;chr&gt;, n_usage &lt;chr&gt;, complete_name &lt;chr&gt;
</code></pre>

<h2 id="taxa">taxa</h2>

<div class="labels">
<a href="https://cran.rstudio.com/web/packages/taxa/"><span class="label" style="background-color:#F1C312">cran</span></a> <a href="https://github.com/ropensci/taxa"><span class="label" style="background-color:#3598DB">github</span></a>
</div>

<p><code>taxa</code> is our newest entry (hit CRAN just a few weeks ago) into the taxonomic R package space. It defines taxonomic classes for R, and basic, but powerful manipulations on those classes.</p>

<p>It defines two broad types of classes: those with just taxonomic data, and a class with taxonomic data plus other associated data (such as traits, environmental data, etc.) called <code>taxmap</code>.</p>

<p>The <code>taxa</code> package includes functions to do various operations with these taxonomic classes. With the taxonomic classes, you can filter out or keep taxa based on various criteria. In the case of the <code>taxmap</code> class, when you filter on taxa, the associated data is filtered the same way so taxa and data are in sync.</p>

<p>A manuscript about <code>taxa</code> is being prepared at the moment - so look out for that.</p>

<p>Most of the hard work in <code>taxa</code> has been done by my co-maintainer <a href="https://github.com/zachary-foster">Zachary Foster</a>!</p>

<h3 id="example-2">Example</h3>

<p>A quick example of the power of <code>taxa</code></p>

<pre><code class="language-r">install.packages(&quot;taxa&quot;)
</code></pre>

<pre><code class="language-r">library(&quot;taxa&quot;)
</code></pre>

<p>An example <code>Hierarchy</code> data object that comes with the package:</p>

<pre><code class="language-r">ex_hierarchy1
#&gt; &lt;Hierarchy&gt;
#&gt;   no. taxon's:  3
#&gt;   Poaceae / family / 4479
#&gt;   Poa / genus / 4544
#&gt;   Poa annua / species / 93036
</code></pre>

<p>We can remove taxa like the following, combining criteria targeting ranks, taxonomic names, or IDs:</p>

<pre><code class="language-r">ex_hierarchy1 %&gt;% pop(ranks(&quot;family&quot;), ids(4544))
#&gt; &lt;Hierarchy&gt;
#&gt;   no. taxon's:  1
#&gt;   Poa annua / species / 93036
</code></pre>

<p>An example <code>taxmap</code> class:</p>

<pre><code class="language-r">ex_taxmap
#&gt; &lt;Taxmap&gt;
#&gt;   17 taxa: b. Mammalia ... q. lycopersicum, r. tuberosum
#&gt;   17 edges: NA-&gt;b, NA-&gt;c, b-&gt;d ... j-&gt;o, k-&gt;p, l-&gt;q, l-&gt;r
#&gt;   4 data sets:
#&gt;     info:
#&gt;       # A tibble: 6 x 4
#&gt;           name n_legs dangerous taxon_id
#&gt;         &lt;fctr&gt;  &lt;dbl&gt;     &lt;lgl&gt;    &lt;chr&gt;
#&gt;       1  tiger      4      TRUE        m
#&gt;       2    cat      4     FALSE        n
#&gt;       3   mole      4     FALSE        o
#&gt;       # ... with 3 more rows
#&gt;     phylopic_ids:  e148eabb-f138-43c6-b1e4-5cda2180485a ... 63604565-0406-460b-8cb8-1abe954b3f3a
#&gt;     foods: a list with 6 items
#&gt;     And 1 more data sets: abund
#&gt;   1 functions:
#&gt;  reaction
</code></pre>

<p>Here, filter by taxonomic names to those starting with the letter <code>t</code> (notice the taxa, edgelist, and datasets have changed)</p>

<pre><code class="language-r">filter_taxa(ex_taxmap, startsWith(taxon_names, &quot;t&quot;))
#&gt; &lt;Taxmap&gt;
#&gt;   3 taxa: m. tigris, o. typhlops, r. tuberosum
#&gt;   3 edges: NA-&gt;m, NA-&gt;o, NA-&gt;r
#&gt;   4 data sets:
#&gt;     info:
#&gt;       # A tibble: 3 x 4
#&gt;           name n_legs dangerous taxon_id
#&gt;         &lt;fctr&gt;  &lt;dbl&gt;     &lt;lgl&gt;    &lt;chr&gt;
#&gt;       1  tiger      4      TRUE        m
#&gt;       2   mole      4     FALSE        o
#&gt;       3 potato      0     FALSE        r
#&gt;     phylopic_ids:  e148eabb-f138-43c6-b1e4-5cda2180485a ... 63604565-0406-460b-8cb8-1abe954b3f3a
#&gt;     foods: a list with 3 items
#&gt;     And 1 more data sets: abund
#&gt;   1 functions:
#&gt;  reaction
</code></pre>

<h2 id="wikitaxa">wikitaxa</h2>

<div class="labels">
<a href="https://cran.rstudio.com/web/packages/wikitaxa/"><span class="label" style="background-color:#F1C312">cran</span></a> <a href="https://github.com/ropensci/wikitaxa"><span class="label" style="background-color:#3598DB">github</span></a>
</div>

<p><code>wikitaxa</code> is a client that allows you to get taxonomic data from four different Wiki-* sites:</p>

<ul>
<li>Wikipedia</li>
<li>Wikispecies</li>
<li>Wikidata</li>
<li>Wikicommons</li>
</ul>

<p>Only Wikispecies is focused on taxonomy - for the others you could use <code>wikitaxa</code> to do any searches, but we look for and parse out taxonomic specific items in the wiki objects that are returned.</p>

<p>We released a new version (<code>v0.1.4</code>) earlier this year. Big thanks to <a href="https://github.com/ezwelty">Ethan Welty</a> for help on this package.</p>

<p><code>wikitaxa</code> is used in <code>taxize</code> to get Wiki* data.</p>

<h3 id="example-3">Example</h3>

<p>A quick example of the power of <code>wikitaxa</code></p>

<pre><code class="language-r">install.packages(&quot;wikitaxa&quot;)
</code></pre>

<pre><code class="language-r">library(&quot;wikitaxa&quot;)
</code></pre>

<p>Search for <em>Malus domestica</em> (apple):</p>

<pre><code class="language-r">res &lt;- wt_wikispecies(name = &quot;Malus domestica&quot;)
# links to language sites for the taxon
res$langlinks
#&gt; # A tibble: 12 x 5
#&gt;     lang                                                   url    langname
#&gt;  * &lt;chr&gt;                                                 &lt;chr&gt;       &lt;chr&gt;
#&gt;  1   ast        https://ast.wikipedia.org/wiki/Malus_domestica    Asturian
#&gt;  2    es         https://es.wikipedia.org/wiki/Malus_domestica     Spanish
#&gt;  3    hu              https://hu.wikipedia.org/wiki/Nemes_alma   Hungarian
#&gt;  4    ia         https://ia.wikipedia.org/wiki/Malus_domestica Interlingua
#&gt;  5    it         https://it.wikipedia.org/wiki/Malus_domestica     Italian
#&gt;  6   nds              https://nds.wikipedia.org/wiki/Huusappel  Low German
#&gt;  7    nl           https://nl.wikipedia.org/wiki/Appel_(plant)       Dutch
#&gt;  8    pl https://pl.wikipedia.org/wiki/Jab%C5%82o%C5%84_domowa      Polish
#&gt;  9   pms        https://pms.wikipedia.org/wiki/Malus_domestica Piedmontese
#&gt; 10    pt         https://pt.wikipedia.org/wiki/Malus_domestica  Portuguese
#&gt; 11    sk https://sk.wikipedia.org/wiki/Jablo%C5%88_dom%C3%A1ca      Slovak
#&gt; 12    vi         https://vi.wikipedia.org/wiki/Malus_domestica  Vietnamese
#&gt; # ... with 2 more variables: autonym &lt;chr&gt;, `*` &lt;chr&gt;
# any external links on the page
res$externallinks
#&gt; [1] &quot;https://web.archive.org/web/20090115062704/http://www.ars-grin.gov/cgi-bin/npgs/html/taxon.pl?104681&quot;
# any common names, and the language they are from
res$common_names
#&gt; # A tibble: 19 x 2
#&gt;               name   language
#&gt;              &lt;chr&gt;      &lt;chr&gt;
#&gt;  1          Ябълка  български
#&gt;  2    Poma, pomera     català
#&gt;  3           Apfel    Deutsch
#&gt;  4     Aed-õunapuu      eesti
#&gt;  5           Μηλιά   Ελληνικά
#&gt;  6           Apple    English
#&gt;  7         Manzano    español
#&gt;  8           Pomme   français
#&gt;  9           Melâr     furlan
#&gt; 10        사과나무     한국어
#&gt; 11          ‘Āpala    Hawaiʻi
#&gt; 12            Melo   italiano
#&gt; 13           Aapel Nordfriisk
#&gt; 14  Maçã, Macieira  português
#&gt; 15 Яблоня домашняя    русский
#&gt; 16   Tarhaomenapuu      suomi
#&gt; 17            Elma     Türkçe
#&gt; 18  Яблуня домашня українська
#&gt; 19          Pomaro     vèneto
# the taxonomic hierarchy - or classification
res$classification
#&gt; # A tibble: 8 x 2
#&gt;          rank          name
#&gt;         &lt;chr&gt;         &lt;chr&gt;
#&gt; 1 Superregnum     Eukaryota
#&gt; 2      Regnum       Plantae
#&gt; 3      Cladus   Angiosperms
#&gt; 4      Cladus      Eudicots
#&gt; 5      Cladus Core eudicots
#&gt; 6      Cladus        Rosids
#&gt; 7      Cladus    Eurosids I
#&gt; 8        Ordo       Rosales
</code></pre>

<h2 id="ritis">ritis</h2>

<div class="labels">
<a href="https://cran.rstudio.com/web/packages/ritis/"><span class="label" style="background-color:#F1C312">cran</span></a> <a href="https://github.com/ropensci/ritis"><span class="label" style="background-color:#3598DB">github</span></a>
</div>

<p><code>ritis</code> is a client for ITIS (Integrated Taxonomic Information Service), part of <a href="https://www.usgs.gov/">USGS</a>.</p>

<p>There&rsquo;s a number of different ways to get ITIS data, one of which (local SQL dump) is available in <code>taxizedb</code>, while the others are covered in <code>ritis</code>:</p>

<ul>
<li>SOLR web service <a href="https://www.itis.gov/solr_documentation.html">https://www.itis.gov/solr_documentation.html</a></li>
<li>RESTful web service <a href="https://www.itis.gov/web_service.html">https://www.itis.gov/web_service.html</a></li>
</ul>

<p>The functions that use the SOLR service are: <code>itis_search</code>, <code>itis_facet</code>, <code>itis_group</code>, and <code>itis_highlight</code>.</p>

<p>All other functions interact with the RESTful web service.</p>

<p>We released a new version (<code>v0.5.4</code>) late last year.</p>

<p><code>ritis</code> is used in <code>taxize</code> to get ITIS data.</p>

<h3 id="example-4">Example</h3>

<p>A quick example of the power of <code>ritis</code></p>

<pre><code class="language-r">install.packages(&quot;ritis&quot;)
</code></pre>

<pre><code class="language-r">library(&quot;ritis&quot;)
</code></pre>

<p>Search for blue oak ( <em>Quercus douglasii</em> )</p>

<pre><code class="language-r">search_scientific(&quot;Quercus douglasii&quot;)
#&gt; # A tibble: 1 x 12
#&gt;         author      combinedName kingdom   tsn unitInd1 unitInd2 unitInd3
#&gt; *        &lt;chr&gt;             &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;    &lt;lgl&gt;    &lt;lgl&gt;    &lt;lgl&gt;
#&gt; 1 Hook. &amp; Arn. Quercus douglasii Plantae 19322       NA       NA       NA
#&gt; # ... with 5 more variables: unitInd4 &lt;lgl&gt;, unitName1 &lt;chr&gt;,
#&gt; #   unitName2 &lt;chr&gt;, unitName3 &lt;lgl&gt;, unitName4 &lt;lgl&gt;
</code></pre>

<p>Get taxonomic hierarchy down from the Oak genus - that is, since it&rsquo;s a genus, get all species in the Oak genus</p>

<pre><code class="language-r">res &lt;- search_scientific(&quot;Quercus&quot;)
hierarchy_down(res[1,]$tsn)
#&gt; # A tibble: 207 x 5
#&gt;    parentname parenttsn rankname          taxonname   tsn
#&gt;  *      &lt;chr&gt;     &lt;chr&gt;    &lt;chr&gt;              &lt;chr&gt; &lt;chr&gt;
#&gt;  1    Quercus     19276  Species    Quercus falcata 19277
#&gt;  2    Quercus     19276  Species     Quercus lyrata 19278
#&gt;  3    Quercus     19276  Species  Quercus michauxii 19279
#&gt;  4    Quercus     19276  Species      Quercus nigra 19280
#&gt;  5    Quercus     19276  Species  Quercus palustris 19281
#&gt;  6    Quercus     19276  Species    Quercus phellos 19282
#&gt;  7    Quercus     19276  Species Quercus virginiana 19283
#&gt;  8    Quercus     19276  Species Quercus macrocarpa 19287
#&gt;  9    Quercus     19276  Species   Quercus coccinea 19288
#&gt; 10    Quercus     19276  Species  Quercus agrifolia 19289
#&gt; # ... with 197 more rows
</code></pre>

<h2 id="worrms">worrms</h2>

<div class="labels">
<a href="https://cran.rstudio.com/web/packages/worrms/"><span class="label" style="background-color:#F1C312">cran</span></a> <a href="https://github.com/ropensci/worrms"><span class="label" style="background-color:#3598DB">github</span></a>
</div>

<p><code>worrms</code> is a client for working with data from World Register of Marine Species (WoRMS).</p>

<p>WoRMS is the most authoritative list of names of all marine species globally.</p>

<p>We released our first version (<code>v0.1.0</code>) earlier this year.</p>

<p><code>worrms</code> is used in <code>taxize</code> to get WoRMS data.</p>

<h3 id="example-5">Example</h3>

<p>A quick example of the power of <code>worrms</code></p>

<pre><code class="language-r">install.packages(&quot;worrms&quot;)
</code></pre>

<pre><code class="language-r">library(&quot;worrms&quot;)
</code></pre>

<p>Get taxonomic name synonyms for salmon ( <em>Oncorhynchus</em> )</p>

<pre><code class="language-r">xx &lt;- wm_records_name(&quot;Oncorhynchus&quot;, fuzzy = FALSE)
wm_synonyms(id = xx$AphiaID)
#&gt; # A tibble: 4 x 25
#&gt;   AphiaID                                                           url
#&gt; *   &lt;int&gt;                                                         &lt;chr&gt;
#&gt; 1  296858 http://www.marinespecies.org/aphia.php?p=taxdetails&amp;id=296858
#&gt; 2  397908 http://www.marinespecies.org/aphia.php?p=taxdetails&amp;id=397908
#&gt; 3  397909 http://www.marinespecies.org/aphia.php?p=taxdetails&amp;id=397909
#&gt; 4  297397 http://www.marinespecies.org/aphia.php?p=taxdetails&amp;id=297397
#&gt; # ... with 23 more variables: scientificname &lt;chr&gt;, authority &lt;chr&gt;,
#&gt; #   status &lt;chr&gt;, unacceptreason &lt;chr&gt;, rank &lt;chr&gt;, valid_AphiaID &lt;int&gt;,
#&gt; #   valid_name &lt;chr&gt;, valid_authority &lt;chr&gt;, kingdom &lt;chr&gt;, phylum &lt;chr&gt;,
#&gt; #   class &lt;chr&gt;, order &lt;chr&gt;, family &lt;chr&gt;, genus &lt;chr&gt;, citation &lt;chr&gt;,
#&gt; #   lsid &lt;chr&gt;, isMarine &lt;int&gt;, isBrackish &lt;lgl&gt;, isFreshwater &lt;lgl&gt;,
#&gt; #   isTerrestrial &lt;int&gt;, isExtinct &lt;lgl&gt;, match_type &lt;chr&gt;, modified &lt;chr&gt;
</code></pre>

<h2 id="pegax">pegax</h2>

<div class="labels">
<a href="https://github.com/ropensci/pegax"><span class="label" style="background-color:#3598DB">github</span></a>
</div>

<p><code>pegax</code> aims to be a powerful taxonomic name parser for R. This package started at <a href="http://unconf17.ropensci.org/">#runconf17</a> - was made possible because the talented <a href="https://github.com/Ironholds/">Oliver Keyes</a> created a <a href="https://en.wikipedia.org/wiki/Parsing_expression_grammar">Parsing Expression Grammar</a> package for R: <a href="https://github.com/Ironholds/piton">piton</a></p>

<p>From <code>piton</code> PEGs are:</p>

<blockquote>
<p>a way of defining formal grammars for formatted data that allow you to identify matched structures and then take actions on them</p>
</blockquote>

<p>Some great taxonomic name parsing does exist already. <a href="https://github.com/GlobalNamesArchitecture/gnparser">Global Names Parser, gnparser</a> is a great effort by <a href="https://github.com/dimus">Dmitry Mozzherin</a> and others. The only problem is Java does not play nice with R - thus <code>pegax</code>, implementing in C++. We&rsquo;ll definitely try to learn alot from the work they have done on <code>gnparser</code>.</p>

<p><code>pegax</code> is not on CRAN yet.  The package is in very very early days, so expect lots of changes.</p>

<h3 id="example-6">Example</h3>

<p>A quick example of the power of <code>pegax</code></p>

<pre><code class="language-r">devtools::install_github(&quot;ropenscilabs/pegax&quot;)
</code></pre>

<pre><code class="language-r">library(&quot;pegax&quot;)
</code></pre>

<p>Parse out authority name</p>

<pre><code class="language-r">authority_names(&quot;Linnaeus, 1758&quot;)
#&gt; [1] &quot;Linnaeus&quot;
</code></pre>

<p>Parse out authority year</p>

<pre><code class="language-r">authority_years(&quot;Linnaeus, 1758&quot;)
#&gt; [1] &quot;1758&quot;
</code></pre>

<h2 id="taxonomic-adjacent-packages">Taxonomic adjacent packages</h2>

<p>These packages do not primarily deal with taxonomy, but do include taxonomic data. No examples are included below, but do check out their vignettes and other documentation to get started.</p>

<h3 id="rotl">rotl</h3>

<div class="labels">
<a href="https://cran.rstudio.com/web/packages/rotl/"><span class="label" style="background-color:#F1C312">cran</span></a> <a href="https://github.com/ropensci/rotl"><span class="label" style="background-color:#3598DB">github</span></a> <span class="label" style="background-color:#19B698">community</span>
</div>

<p><code>rotl</code> is maintained by <a href="https://github.com/fmichonneau">Francois Michonneau</a>, <a href="https://github.com/josephwb">Joseph Brown</a>, and <a href="https://github.com/dwinter">David Winter</a>, and is a package to interact with the <a href="https://opentreeoflife.org/">Open Tree of Life (OTL)</a>. OTL main purpose is perhaps about phylogeny data, but they do have a taxonomy they maintain, and <code>rotl</code> has functions that let you access that taxonomic data.</p>

<p><code>rotl</code> is used in <code>taxize</code> to get OTL data.</p>

<h3 id="rredlist">rredlist</h3>

<div class="labels">
<a href="https://cran.rstudio.com/web/packages/rredlist/"><span class="label" style="background-color:#F1C312">cran</span></a> <a href="https://github.com/ropensci/rredlist"><span class="label" style="background-color:#3598DB">github</span></a>
</div>

<p><code>rredlist</code> is an interface to the <a href="http://www.iucnredlist.org/">IUCN Redlist of Threatened Species</a>,</p>

<blockquote>
<p>which provides taxonomic, conservation status and distribution information on plants, fungi and animals that have been globally evaluated using the IUCN Red List Categories and Criteria.</p>
</blockquote>

<p><code>rredlist</code> is used in <code>taxize</code> to get IUCN Redlist Taxonomy data.</p>

<h3 id="bold">bold</h3>

<div class="labels">
<a href="https://cran.rstudio.com/web/packages/bold/"><span class="label" style="background-color:#F1C312">cran</span></a> <a href="https://github.com/ropensci/bold"><span class="label" style="background-color:#3598DB">github</span></a>
</div>

<p><code>bold</code> is an interface to the <a href="http://www.iucnredlist.org/">IUCN Redlist of Threatened Species</a>,</p>

<blockquote>
<p>which provides taxonomic, conservation status and distribution information on plants, fungi and animals that have been globally evaluated using the IUCN Red List Categories and Criteria.</p>
</blockquote>

<p><code>bold</code> is used in <code>taxize</code> to get BOLD taxonomy data.</p>

<h3 id="rgbif">rgbif</h3>

<div class="labels">
<a href="https://cran.rstudio.com/web/packages/rgbif/"><span class="label" style="background-color:#F1C312">cran</span></a> <a href="https://github.com/ropensci/rgbif"><span class="label" style="background-color:#3598DB">github</span></a>
</div>

<p><code>rgbif</code> is an interface to the <a href="http://www.gbif.org/">Global Biodiversity Information Facility</a>, the largest provider of free and open access biodiversity data.</p>

<p><code>rgbif</code> is used in <code>taxize</code> to get GBIF taxonomy data.</p>

<hr />

<h2 id="conclusion">Conclusion</h2>

<p>Together, the rOpenSci taxonomy suite of packages make it much easier to work with taxonomy data in R. We hope you agree :)</p>

<p>Despite all of the above, we still have some things to work on:</p>

<ul>
<li>Use <code>taxa</code> taxonomy classes where appropriate. We plan to deploy <code>taxa</code> classes inside of the <code>taxize</code> package very soon, but they may be appropriate elsewhere as well. Using the same classes in many packages will make working with taxonomic data more consistent across packages.</li>
<li><code>taxizedb</code> needs to be more robust. Given that the package not only touches your file system, and for some databases depends on different SQL databases, we likely will run into many problems with various operating system + database combinations. Please do kick the tires and get back to us!</li>
<li>Once <code>pegax</code> is ready for use, we&rsquo;ll be able to use it in many packages whenever we need to parse taxonomic names.</li>
<li>They&rsquo;ll always be more data sources that we can potentially add to <code>taxize</code> - get in touch and let us know.</li>
</ul>

<p>What do you think about the taxonomic suite of packages?  Anything we&rsquo;re missing? Anything we can be doing better with any of the packages?  Are you working on a taxonomic R package? Consider <a href="https://github.com/ropensci/onboarding">submitting to rOpenSci</a>.</p>

            </div>
            <br>
            <div class="col-offset-2 col-8 top-4 labels">
                
                    <a href="/tags/r"><span class="label">R</span></a>
                
                    <a href="/tags/taxonomy"><span class="label">taxonomy</span></a>
                
                    <a href="/tags/software"><span class="label">software</span></a>
                
                    <a href="/tags/packages"><span class="label">packages</span></a>
                
                    <a href="/tags/taxize"><span class="label">taxize</span></a>
                
                    <a href="/tags/taxa"><span class="label">taxa</span></a>
                
                    <a href="/tags/taxizedb"><span class="label">taxizedb</span></a>
                
                    <a href="/tags/wikitaxa"><span class="label">wikitaxa</span></a>
                
                    <a href="/tags/binomen"><span class="label">binomen</span></a>
                
                    <a href="/tags/ritis"><span class="label">ritis</span></a>
                
                    <a href="/tags/worrms"><span class="label">worrms</span></a>
                
                    <a href="/tags/pegax"><span class="label">pegax</span></a>
                
            </div>

            
            
            <div class="col-offset-2 col-8 top-4">
                <div id='discourse-comments'></div>
                <script type="text/javascript">
                DiscourseEmbed = { discourseUrl: 'https://discuss.ropensci.org/',
                                   topicId:  796  };
                (function() {
                  var d = document.createElement('script'); d.type = 'text/javascript'; d.async = true;
                  d.src = DiscourseEmbed.discourseUrl + 'javascripts/embed.js';
                  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(d);
                })();
                </script>
            </div>
            
        </div>
        <br>
    </div>
</article>





    <div id="footer">
        <div class="container">
            <div class="row start">
                <div class="col-1 col-1-3 top-8">
                    <img src="/img/icon_short_white.svg" />
                </div>

                <div class="col-9 col-offset-2 top-10 bottom-8">
                    <div class="row between">
                        <div class="col-2 col-1-3">
                            <a href="http://github.com/ropensci" target="_blank"><div class="icon icon-github"></div></a>
                            <a href="http://twitter.com/ropensci" target="_blank"><div class="icon icon-twitter"></div></a>
                            <a href="http://vimeo.com/ropensci" target="_blank"><div class="icon icon-vimeo"></div></a>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Info</h5>
                                <li><a href="/about">Mission</a></li>
                                <li><a href="/about#team">Team</a></li>
                                <li><a href="/about#collaborators">Collaborators</a></li>
                                <li><a href="/careers">Careers</a></li>

                            </ul>
                        </div>

                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Work</h5>
                                <li><a href="/packages/">Packages</a></li>
                                <li><a href="/blog/">Blog</a></li>
                                <li><a href="/technotes/">Tech Notes</a></li>
                                <li><a href="/tutorials/">Tutorials</a></li>
                                <li><a href="/usecases/">Use Cases</a></li>
                                <li><a href="/resources/">More Resources</a></li>
                            </ul>
                        </div>
                        <div class="col-2 col-1-3 top-8 bottom-8">
                            <ul>
                                <h5 class="bottom-2">Participate</h5>
                                <li><a href="/contact.html">Contact us</a></li>
                                <li><a href="/community/">Community</a></li>
                                <li><a href="http://onboarding.ropensci.org/">Contribute software</a></li>
                                <li><a href="http://unconf17.ropensci.org/">Unconference</a></li>
                                <li><a href="/coc">Code of conduct</a></li>
                                <li><a href="/donate/">Donate</a></li>
                            </ul>
                        </div>
                        <div class="col-4 top-8 bottom-8">
                            <h5 class="bottom-2"></h5>

                            <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" target="_blank">NumFOCUS</a></p>
                            <a href="http://numfocus.org" target="_blank"><img src="img/numfocus.png"></a>
                            <br>

                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12 top-8 bottom-9 divider">
                    <p class="top-9">Except where otherwise noted, content on this site is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank">CC-BY license</a>.
                    </p>
                </div>
            </div>
        </div>
    </div>



</body>
</html>



